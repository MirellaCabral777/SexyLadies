<script>
function getId(){
  const params = new URLSearchParams(window.location.search);
  return params.get("id");
}

async function carregarPerfil(){
  const id = getId();

  const res = await fetch("/api/model/" + id);
  const modelo = await res.json();

  const div = document.getElementById("perfil");

  if(!modelo){
    div.innerHTML = "<h2>Modelo n√£o encontrada</h2>";
    return;
  }

  div.innerHTML = `
    <div class="card">
      <h1>${modelo.nome}</h1>
      <p><strong>${modelo.cidade} - ${modelo.estado}</strong></p>
      <p>${modelo.descricao || ""}</p>
      <p>üëÅ ${modelo.views} visualiza√ß√µes</p>

      <a href="https://wa.me/${modelo.whatsapp}" target="_blank">
        <button>Chamar no WhatsApp</button>
      </a>
    </div>
  `;
}

carregarPerfil();
</script>
