<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Perfil</title>

<style>
body{
  margin:0;
  font-family:Arial;
  background:#0f0f14;
  color:#fff;
  padding:40px;
}

.card{
  max-width:600px;
  margin:auto;
  background:#1f1f2b;
  padding:30px;
  border-radius:15px;
}

h1{
  color:#ff0066;
}

button{
  background:#ff0066;
  color:#fff;
  padding:12px;
  border:none;
  border-radius:8px;
  cursor:pointer;
  font-weight:bold;
  width:100%;
  margin-top:15px;
}
</style>
</head>

<body>

<div id="perfil"></div>

<script>
function getId(){
  const params = new URLSearchParams(window.location.search);
  return params.get("id");
}

async function carregarPerfil(){
  const id = getId();

  const res = await fetch("/api/models");
  const modelos = await res.json();

  const modelo = modelos.find(m => m.id == id);

  const div = document.getElementById("perfil");

  if(!modelo){
    div.innerHTML = "<h2>Modelo n√£o encontrada</h2>";
    return;
  }

  div.innerHTML = `
    <div class="card">
      <h1>${modelo.nome}</h1>
      <p><strong>Cidade:</strong> ${modelo.cidade}</p>
      <p><strong>Estado:</strong> ${modelo.estado}</p>
      <p>${modelo.descricao || ""}</p>

      <a href="https://wa.me/${modelo.whatsapp}" target="_blank">
        <button>Chamar no WhatsApp</button>
      </a>
    </div>
  `;
}

carregarPerfil();
</script>

</body>
</html>
